<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using New Shapes in Venn Diagram • ggVennDiagram</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using New Shapes in Venn Diagram">
<meta property="og:description" content="ggVennDiagram">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggVennDiagram</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fully-customed.html">Fully Customed Venn Diagram</a>
    </li>
    <li>
      <a href="../articles/using-ggVennDiagram.html">Tutorial: Using ggVennDiagram</a>
    </li>
    <li>
      <a href="../articles/using-new-shapes.html">Using New Shapes in Venn Diagram</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gaospecial/ggVennDiagram/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using New Shapes in Venn Diagram</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gaospecial/ggVennDiagram/blob/HEAD/vignettes/using-new-shapes.Rmd" class="external-link"><code>vignettes/using-new-shapes.Rmd</code></a></small>
      <div class="hidden name"><code>using-new-shapes.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gaospecial/ggVennDiagram" class="external-link">ggVennDiagram</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="internal-shapes">Internal Shapes<a class="anchor" aria-label="anchor" href="#internal-shapes"></a>
</h2>
<p>The <strong>ggVennDiagram</strong> package has a set of built-in
shapes that are used to plot Venn diagram. These internal data are
stored as sys data as a tibble. It can be accessed with
<code>ggVennDiagram:::shapes</code> and viewed by the function
<code><a href="../reference/get_shapes.html">get_shapes()</a></code>, and plotted with the function
<code><a href="../reference/plot_shapes.html">plot_shapes()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shape1</span> <span class="op">=</span> <span class="fu">ggVennDiagram</span><span class="fu">:::</span><span class="va"><a href="../reference/shapes.html">shapes</a></span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">shape1</span></span>
<span><span class="co">#&gt; Class VennPlotData - '301f'</span></span>
<span><span class="co">#&gt;   Type: circle; No. sets: 3; No. regions: 7.</span></span>
<span><span class="co">#&gt;   To view this shape, use `plot_shape_edge(get_shape_by_id('301f'))`.</span></span>
<span><span class="co">#&gt;   To view its components, use `venn_setedge()`, `venn_setlabel()`, etc.</span></span></code></pre></div>
<p>The format of these shapes data are defined in
<code>VennPlotData</code> class. Use <code><a href="../reference/VennPlotData.html">?VennPlotData</a></code> to view
the document.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_shape_edge.html">plot_shape_edge</a></span><span class="op">(</span><span class="va">shape1</span><span class="op">)</span></span></code></pre></div>
<p><img src="using-new-shapes_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p><code><a href="../reference/get_shapes.html">get_shapes()</a></code> will extract the meta features of these
shapes and output a tibble. These information can be used for
sepecifying a shape either by its id, or type.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_shapes.html">get_shapes</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">#&gt;    shape_id nsets type    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 101          1 circle  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 201f         2 circle  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 201          2 circle  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 301f         3 circle  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 301          3 circle  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 401f         4 ellipse </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 402          4 polygon </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 501          5 polygon </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 502          5 polygon </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 601t         6 triangle</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 601          6 polygon </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 701          7 polygon</span></span></code></pre></div>
<p>For example, if you want to extract the shape whose id is “401f”.
This time we use <code>ggplot2</code> functions to plot the set edge of
it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">shape2</span> <span class="op">=</span> <span class="fu"><a href="../reference/get_shape_by_id.html">get_shape_by_id</a></span><span class="op">(</span><span class="st">"401f"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_shape_edge.html">plot_shape_edge</a></span><span class="op">(</span><span class="va">shape2</span><span class="op">)</span></span></code></pre></div>
<p><img src="using-new-shapes_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>The <code><a href="../reference/plot_shapes.html">plot_shapes()</a></code> function can be used to plot all the
available shapes stored in this package. Please note that the shapes for
this five sets diagram, as well as those for six and seven sets, are
imported from the original package “venn”, authored by Adrian Dușa.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_shapes.html">plot_shapes</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="using-new-shapes_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Among them, the shapes with less than four sets can be generated with
circle or ellipses. For example, the parameters used to generate
four-set ellipses were adopted from <code>VennDiagram</code> (<a href="https://CRAN.R-project.org/package=VennDiagram" class="external-link uri">https://CRAN.R-project.org/package=VennDiagram</a>).
Notably, those shapes of five or more sets, including 501, 502, 601, and
701, are collected by Adrian Dusa and provided in his <code>venn</code>
package (<a href="https://CRAN.R-project.org/package=venn" class="external-link uri">https://CRAN.R-project.org/package=venn</a>). Besides, the
601t shape is imported from a WiKi entry (<a href="https://en.wikipedia.org/wiki/Venn_diagram" class="external-link uri">https://en.wikipedia.org/wiki/Venn_diagram</a>).</p>
</div>
<div class="section level2">
<h2 id="using-alternative-internal-shapes">Using alternative internal shapes<a class="anchor" aria-label="anchor" href="#using-alternative-internal-shapes"></a>
</h2>
<p>By default, only the most appropriate shape is used when calling the
main function <code><a href="../reference/ggVennDiagram.html">ggVennDiagram()</a></code>. However, it may be specified
in step wise plot which has been described in <a href="https://gaospecial.github.io/ggVennDiagram/articles/fully-customed">fully
customed plot</a>.</p>
<p>For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate example data.</span></span>
<span><span class="va">genes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"gene"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">20210701</span><span class="op">)</span></span>
<span><span class="va">gene_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">genes</span>,<span class="fl">100</span><span class="op">)</span>,</span>
<span>                  B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">genes</span>,<span class="fl">200</span><span class="op">)</span>,</span>
<span>                  C <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">genes</span>,<span class="fl">300</span><span class="op">)</span>,</span>
<span>                  D <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">genes</span>,<span class="fl">200</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># construct a Venn object</span></span>
<span><span class="va">venn</span> <span class="op">=</span> <span class="fu"><a href="../reference/Venn-class.html">Venn</a></span><span class="op">(</span><span class="va">gene_list</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="../reference/process_data.html">process_data</a></span><span class="op">(</span><span class="va">venn</span>, shape_id <span class="op">=</span> <span class="st">"402"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_venn.html">plot_venn</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<p><img src="using-new-shapes_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="using-a-novel-shape">Using a novel shape<a class="anchor" aria-label="anchor" href="#using-a-novel-shape"></a>
</h2>
<p>If user knows the coordinates of a novel shape, it may also be used
to draw in <code>ggVennDiagram</code>. The functions of this part have
been transfered to a new R package <code>shapeMageR</code>, which can be
found in <a href="https://github.com/gaospecial/shapeMageR" class="external-link uri">https://github.com/gaospecial/shapeMageR</a>. To do this,
the dependency of <code>ggVennDiagram</code> is very light, thus
increase the accessibility of the package.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Adrian Dușa (2024) <em>venn: Draw Venn Diagrams</em>, R package
version 1.12. <a href="https://CRAN.R-project.org/package=venn" class="external-link uri">https://CRAN.R-project.org/package=venn</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Chun-Hui Gao, Adrian Dusa.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
